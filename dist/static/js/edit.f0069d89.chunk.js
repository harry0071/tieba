webpackJsonp([8],{Ekea:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={data:function(){return{blogId:0,ruleForm:{title:"",desc:"",content:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"}],desc:[{required:!0,message:"请输入帖子内容摘要",trigger:"blur"},{min:3,max:80,message:"内容摘要需要在 3 ~ 80 个字符之间"}],content:[{required:!0,message:"请填写帖子详细内容",trigger:"blur"}]}}},created:function(){this.blogId=this.$route.params.blogId,this.getBlog()},methods:{getBlog:function(){var e=this;new this.AV.Query("Blogs").get(this.blogId).then(function(t){var r=t.toJSON();e.ruleForm.title=r.title,e.ruleForm.desc=r.description,e.ruleForm.content=r.content})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.AV.Object.createWithoutData("Blogs",t.blogId).save({title:t.ruleForm.title,description:t.ruleForm.desc,content:t.ruleForm.content}).then(function(e){t.$notify({title:"成功",message:'修改帖子成功 ヾ(๑╹◡╹)ﾉ"',type:"success",offset:100}),t.$router.push({name:"detail",params:{blogId:t.blogId}})})})},resetForm:function(e){this.$refs[e].resetFields()}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"create"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"帖子标题",prop:"title"}},[r("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"内容摘要",prop:"desc"}},[r("el-input",{attrs:{rows:2,type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"详细内容",prop:"content"}},[r("el-input",{attrs:{rows:6,type:"textarea",placeholder:"支持 markdown 语法"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确认修改")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var s=r("VU/8")(o,l,!1,function(e){r("sw89")},"data-v-06428c04",null);t.default=s.exports},sw89:function(e,t){}});